(window.webpackJsonp=window.webpackJsonp||[]).push([[50],{hlGH:function(n,l,t){"use strict";t.r(l);var e=t("8Y7J");class i{}var o=t("pMnS"),a=t("MKJQ"),u=t("sZkV"),r=t("SVse"),s=t("mrSG"),c=t("Qmup"),h=t("AytR");class b{constructor(n,l,t,e,i){this.capturar=n,this.ApiService=l,this.ruta=t,this.platform=e,this.alertController=i,this.URL=h.a.url,this.mostrar=!0,this.win=window,this.sonido="../../../assets/sonido/reloj.mp3",this.sonido2="../../../assets/sonido/final.mp3",this.btn=!1,this.contador=1,this.secuencia_=1,this.pausarApp=this.platform.pause.subscribe(()=>s.__awaiter(this,void 0,void 0,(function*(){this.pauseTimer()}))),this.ReanudarAPP=this.platform.resume.subscribe(()=>s.__awaiter(this,void 0,void 0,(function*(){this.alerta()})))}ionViewDidEnter(){this.ApiService.secuencia===this.secuencia?(this.ApiService.contadorRutinaSumar(1),this.sumatorio=this.ApiService.contadorRutina):(this.ApiService.contadorRutina=0,this.ApiService.contadorRutinaSumar(1),this.sumatorio=this.ApiService.contadorRutina,this.ApiService.secuencia=this.secuencia)}ngOnInit(){return s.__awaiter(this,void 0,void 0,(function*(){console.log(this.ApiService.rutina),this.dataRecibida=this.capturar.snapshot.paramMap.get("id"),this.numero=parseInt(this.dataRecibida)+1,this.restar=parseInt(this.dataRecibida)-1,this.final=this.ApiService.rutina,this.final=this.final.length,this.nombre=this.ApiService.rutina[this.dataRecibida],console.log(this.nombre),this.secuencia=this.nombre.stage,this.serie=this.ApiService.rutina,this.serie=this.serie.filter(n=>n.stage===this.secuencia),this.serie=this.serie.length,this.capturar.queryParams.subscribe(n=>{let l=n.count,t=n.secuence;console.log("SECUENCIA_",this.secuencia_),console.log("CONTADOR_",this.contador),l&&(this.contador=l),t&&(this.secuencia_=t)}),this.secuencia_<this.secuencia&&(this.contador=1,this.secuencia_=this.secuencia),0==this.contador&&(this.contador=this.serie),this.contador>this.serie&&(this.contador=1),console.log("SECUENCIA",this.secuencia_),console.log("CONTADOR",this.contador),this.video=`${this.URL}/videos/${this.nombre.cod}/${this.nombre.url}`,console.log(this.video);var n=setInterval(()=>{console.log(this.txtVideo.nativeElement.readyState),4===this.txtVideo.nativeElement.readyState&&(console.log(this.txtVideo.nativeElement.readyState),this.txtVideo.nativeElement.play(),this.startTimer(),clearInterval(n))},500)}))}onMetadata(n,l){console.log("metadata: ",n),console.log("cargado: ",n.target.readyState),this.timeLeft=this.ApiService.ratio}redirigir(){this.numero>=this.final?this.tiempo=setTimeout(()=>{clearInterval(this.tiemposegundo),this.pauseSonido(),this.ruta.navigateRoot("percepcionentrenamiento")},1e3):(clearInterval(this.tiemposegundo),this.pauseSonido(),this.ruta.navigateRoot([`/bateriarutinaesperahome/${this.dataRecibida}`],{queryParams:{count:this.contador,secuence:this.secuencia_}}))}ionViewDidLeave(){clearInterval(this.tiemposegundo),this.audio&&this.audio.pause()}ngOnDestroy(){clearInterval(this.tiemposegundo),this.audio&&this.audio.pause()}startTimer(){this.btn=!0,this.tiemposegundo=setInterval(()=>{this.timeLeft<=10&&(console.log("activate"),this.zero=0),this.timeLeft>=1&&this.timeLeft<10&&this.playSonido(),this.timeLeft>0?this.timeLeft--:(this.timeLeft=0,this.redirigir(),this.txtVideo.nativeElement.pause())},1e3)}pauseTimer(){clearInterval(this.tiemposegundo),this.mostrar=!1,this.txtVideo.nativeElement.pause()}playTimer(){this.startTimer(),this.mostrar=!0,this.txtVideo.nativeElement.play()}playSonido(){this.audio=new Audio,this.audio.src=this.sonido,this.audio.load(),this.audio.play()}pauseSonido(){this.audio.pause()}alerta(){return s.__awaiter(this,void 0,void 0,(function*(){const n=yield this.alertController.create({header:"\xbfDeseas reanudar el video?",message:"el video comenzara desde cero de nuevo",buttons:[{text:"Cancelar",role:"cancel",cssClass:"secondary",handler:n=>{console.log("no hacer nada, el usuario le dara en play al video")}},{text:"Ok",handler:()=>{this.timeLeft=this.ApiService.ratio,clearInterval(this.tiemposegundo),this.zero=null,this.playTimer()}}]});yield n.present()}))}ionViewWillLeave(){console.log("cerrar la supcripcion"),clearInterval(this.tiemposegundo),this.audio&&this.audio.pause(),this.ReanudarAPP.unsubscribe(),this.pausarApp.unsubscribe()}atras(){clearInterval(this.tiemposegundo);let n={queryParams:{count:this.contador,secuence:this.secuencia_,restar:this.restar}};1!=this.contador&&1!=this.secuencia?(this.contador--,this.ruta.navigateForward([`/bateriarutinaesperahome/${this.restar}`],n)):this.ruta.navigateRoot(["/calentamiento-info"])}siguiente(){clearInterval(this.tiemposegundo),this.ruta.navigateForward([`/bateriarutinaesperahome/${this.numero-1}`],{queryParams:{count:this.contador,secuence:this.secuencia_,restar:this.restar}})}}var d=t("iInd"),p=e.ob({encapsulation:0,styles:[[".logo[_ngcontent-%COMP%]{margin:0 auto;max-height:150px}.cabezera[_ngcontent-%COMP%]{max-height:150px;display:-webkit-box;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row;-webkit-box-align:center;align-items:center;background-color:#000;width:100%;overflow:hidden}.contenedor[_ngcontent-%COMP%]{width:100%;height:100%}.contenedor-cuerpo[_ngcontent-%COMP%]{width:100%;max-height:70%;height:60%;display:-webkit-box;display:flex;margin-top:.5rem;-webkit-box-pack:center;justify-content:center;-webkit-box-align:center;align-items:center;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column}.titulo[_ngcontent-%COMP%]{padding:5px;font-size:1.2rem;font-weight:800}.reloj[_ngcontent-%COMP%]{margin:2px!important;font-size:4em;font-weight:800}.text-reloj-titulo[_ngcontent-%COMP%]{font-weight:700;margin:0}.text-reloj[_ngcontent-%COMP%]{margin:0;font-size:1.2rem}"]],data:{}});function m(n){return e.Lb(0,[(n()(),e.qb(0,0,null,null,0,"source",[],[[8,"src",4]],null,null,null,null))],null,(function(n,l){n(l,0,0,l.component.video)}))}function g(n){return e.Lb(0,[(n()(),e.qb(0,0,null,null,3,"ion-fab-button",[["color","light"]],null,[[null,"click"]],(function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.atras()&&e),e}),a.hb,a.q)),e.pb(1,49152,null,0,u.y,[e.h,e.k,e.x],{color:[0,"color"]},null),(n()(),e.qb(2,0,null,0,1,"ion-icon",[["name","arrow-back-outline"]],null,null,null,a.mb,a.u)),e.pb(3,49152,null,0,u.D,[e.h,e.k,e.x],{name:[0,"name"]},null)],(function(n,l){n(l,1,0,"light"),n(l,3,0,"arrow-back-outline")}),null)}function f(n){return e.Lb(0,[(n()(),e.qb(0,0,null,null,3,"ion-fab",[["horizontal","start"],["slot","fixed"],["vertical","bottom"]],null,null,null,a.ib,a.p)),e.pb(1,49152,null,0,u.x,[e.h,e.k,e.x],{horizontal:[0,"horizontal"],vertical:[1,"vertical"]},null),(n()(),e.fb(16777216,null,0,1,null,g)),e.pb(3,16384,null,0,r.k,[e.N,e.J],{ngIf:[0,"ngIf"]},null)],(function(n,l){var t=l.component;n(l,1,0,"start","bottom"),n(l,3,0,t.btn)}),null)}function v(n){return e.Lb(0,[(n()(),e.qb(0,0,null,null,3,"ion-fab-button",[["color","light"]],null,[[null,"click"]],(function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.siguiente()&&e),e}),a.hb,a.q)),e.pb(1,49152,null,0,u.y,[e.h,e.k,e.x],{color:[0,"color"]},null),(n()(),e.qb(2,0,null,0,1,"ion-icon",[["name","arrow-forward-outline"]],null,null,null,a.mb,a.u)),e.pb(3,49152,null,0,u.D,[e.h,e.k,e.x],{name:[0,"name"]},null)],(function(n,l){n(l,1,0,"light"),n(l,3,0,"arrow-forward-outline")}),null)}function x(n){return e.Lb(0,[(n()(),e.qb(0,0,null,null,3,"ion-fab",[["horizontal","end"],["slot","fixed"],["vertical","bottom"]],null,null,null,a.ib,a.p)),e.pb(1,49152,null,0,u.x,[e.h,e.k,e.x],{horizontal:[0,"horizontal"],vertical:[1,"vertical"]},null),(n()(),e.fb(16777216,null,0,1,null,v)),e.pb(3,16384,null,0,r.k,[e.N,e.J],{ngIf:[0,"ngIf"]},null)],(function(n,l){var t=l.component;n(l,1,0,"end","bottom"),n(l,3,0,t.btn)}),null)}function k(n){return e.Lb(0,[(n()(),e.qb(0,0,null,null,5,"ion-fab",[["horizontal","center"],["slot","fixed"],["vertical","bottom"]],null,null,null,a.ib,a.p)),e.pb(1,49152,null,0,u.x,[e.h,e.k,e.x],{horizontal:[0,"horizontal"],vertical:[1,"vertical"]},null),(n()(),e.qb(2,0,null,0,3,"ion-fab-button",[["color","danger"]],null,[[null,"click"]],(function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.pauseTimer()&&e),e}),a.hb,a.q)),e.pb(3,49152,null,0,u.y,[e.h,e.k,e.x],{color:[0,"color"]},null),(n()(),e.qb(4,0,null,0,1,"ion-icon",[["name","pause-outline"]],null,null,null,a.mb,a.u)),e.pb(5,49152,null,0,u.D,[e.h,e.k,e.x],{name:[0,"name"]},null)],(function(n,l){n(l,1,0,"center","bottom"),n(l,3,0,"danger"),n(l,5,0,"pause-outline")}),null)}function w(n){return e.Lb(0,[(n()(),e.qb(0,0,null,null,5,"ion-fab",[["horizontal","center"],["slot","fixed"],["vertical","bottom"]],null,null,null,a.ib,a.p)),e.pb(1,49152,null,0,u.x,[e.h,e.k,e.x],{horizontal:[0,"horizontal"],vertical:[1,"vertical"]},null),(n()(),e.qb(2,0,null,0,3,"ion-fab-button",[["color","danger"]],null,[[null,"click"]],(function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.playTimer()&&e),e}),a.hb,a.q)),e.pb(3,49152,null,0,u.y,[e.h,e.k,e.x],{color:[0,"color"]},null),(n()(),e.qb(4,0,null,0,1,"ion-icon",[["name","play-outline"]],null,null,null,a.mb,a.u)),e.pb(5,49152,null,0,u.D,[e.h,e.k,e.x],{name:[0,"name"]},null)],(function(n,l){n(l,1,0,"center","bottom"),n(l,3,0,"danger"),n(l,5,0,"play-outline")}),null)}function A(n){return e.Lb(0,[e.Hb(671088640,1,{txtVideo:0}),(n()(),e.qb(1,0,null,null,3,"ion-header",[["class","ion-no-border"]],null,null,null,a.lb,a.t)),e.pb(2,49152,null,0,u.C,[e.h,e.k,e.x],null,null),(n()(),e.qb(3,0,null,0,1,"div",[["class","cabezera"]],null,null,null,null,null)),(n()(),e.qb(4,0,null,null,0,"img",[["class","logo"],["src","assets/img/logo-app.png"]],null,null,null,null,null)),(n()(),e.qb(5,0,[[1,0],["myVideo",1]],null,2,"video",[["loop",""],["playsinline",""],["poster","assets/img/videogif.gif"],["width","100%"]],null,[[null,"loadedmetadata"]],(function(n,l,t){var e=!0,i=n.component;return"loadedmetadata"===l&&(e=!1!==i.onMetadata(t,i.video)&&e),e}),null,null)),(n()(),e.fb(16777216,null,null,1,null,m)),e.pb(7,16384,null,0,r.k,[e.N,e.J],{ngIf:[0,"ngIf"]},null),(n()(),e.qb(8,0,null,null,11,"ion-content",[],null,null,null,a.gb,a.o)),e.pb(9,49152,null,0,u.v,[e.h,e.k,e.x],null,null),(n()(),e.qb(10,0,null,0,9,"div",[["class","contenedor"]],null,null,null,null,null)),(n()(),e.qb(11,0,null,null,8,"div",[["class","contenedor-cuerpo"]],null,null,null,null,null)),(n()(),e.qb(12,0,null,null,1,"h2",[["class","text-reloj-titulo"]],null,null,null,null,null)),(n()(),e.Jb(13,null,["SECUENCIA ",""])),(n()(),e.qb(14,0,null,null,1,"h3",[["class","text-reloj-titulo"]],null,null,null,null,null)),(n()(),e.Jb(15,null,["SERIE ","/",""])),(n()(),e.qb(16,0,null,null,1,"p",[["class","reloj"]],null,null,null,null,null)),(n()(),e.Jb(17,null,["","",""])),(n()(),e.qb(18,0,null,null,1,"p",[["class","text-reloj"]],null,null,null,null,null)),(n()(),e.Jb(-1,null,["\xa1De tu esfuerzo depende tu resultado,no pares!"])),(n()(),e.fb(16777216,null,null,1,null,f)),e.pb(21,16384,null,0,r.k,[e.N,e.J],{ngIf:[0,"ngIf"]},null),(n()(),e.fb(16777216,null,null,1,null,x)),e.pb(23,16384,null,0,r.k,[e.N,e.J],{ngIf:[0,"ngIf"]},null),(n()(),e.fb(16777216,null,null,1,null,k)),e.pb(25,16384,null,0,r.k,[e.N,e.J],{ngIf:[0,"ngIf"]},null),(n()(),e.fb(16777216,null,null,1,null,w)),e.pb(27,16384,null,0,r.k,[e.N,e.J],{ngIf:[0,"ngIf"]},null)],(function(n,l){var t=l.component;n(l,7,0,t.video),n(l,21,0,t.timeLeft<=27),n(l,23,0,t.timeLeft<=27),n(l,25,0,t.mostrar),n(l,27,0,!t.mostrar)}),(function(n,l){var t=l.component;n(l,13,0,t.secuencia),n(l,15,0,t.contador,t.serie),n(l,17,0,t.zero,t.timeLeft)}))}function y(n){return e.Lb(0,[(n()(),e.qb(0,0,null,null,1,"app-bateriarutinahome",[],null,null,null,A,p)),e.pb(1,245760,null,0,b,[d.a,c.a,u.Gb,u.Kb,u.b],null,null)],(function(n,l){n(l,1,0)}),null)}var q=e.mb("app-bateriarutinahome",b,y,{},{},[]),I=t("s7LF");class S{}t.d(l,"BateriarutinahomePageModuleNgFactory",(function(){return L}));var L=e.nb(i,[],(function(n){return e.zb([e.Ab(512,e.j,e.Y,[[8,[o.a,q]],[3,e.j],e.v]),e.Ab(4608,r.m,r.l,[e.s,[2,r.w]]),e.Ab(4608,I.q,I.q,[]),e.Ab(4608,u.c,u.c,[e.x,e.g]),e.Ab(4608,u.Fb,u.Fb,[u.c,e.j,e.p]),e.Ab(4608,u.Lb,u.Lb,[u.c,e.j,e.p]),e.Ab(1073742336,r.b,r.b,[]),e.Ab(1073742336,I.p,I.p,[]),e.Ab(1073742336,I.e,I.e,[]),e.Ab(1073742336,u.Cb,u.Cb,[]),e.Ab(1073742336,d.n,d.n,[[2,d.s],[2,d.m]]),e.Ab(1073742336,S,S,[]),e.Ab(1073742336,i,i,[]),e.Ab(1024,d.k,(function(){return[[{path:"",component:b}]]}),[])])}))}}]);