function _defineProperties(n,e){for(var t=0;t<e.length;t++){var l=e[t];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(n,l.key,l)}}function _createClass(n,e,t){return e&&_defineProperties(n.prototype,e),t&&_defineProperties(n,t),n}function _classCallCheck(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[50],{hlGH:function(n,e,t){"use strict";t.r(e);var l=t("8Y7J"),i=function n(){_classCallCheck(this,n)},o=t("pMnS"),a=t("MKJQ"),u=t("sZkV"),r=t("SVse"),s=t("mrSG"),c=t("Qmup"),h=t("AytR"),b=function(){function n(e,t,l,i,o){var a=this;_classCallCheck(this,n),this.capturar=e,this.ApiService=t,this.ruta=l,this.platform=i,this.alertController=o,this.URL=h.a.url,this.mostrar=!0,this.win=window,this.sonido="../../../assets/sonido/reloj.mp3",this.sonido2="../../../assets/sonido/final.mp3",this.btn=!1,this.contador=1,this.secuencia_=1,this.pausarApp=this.platform.pause.subscribe((function(){return s.__awaiter(a,void 0,void 0,regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:this.pauseTimer();case 1:case"end":return n.stop()}}),n,this)})))})),this.ReanudarAPP=this.platform.resume.subscribe((function(){return s.__awaiter(a,void 0,void 0,regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:this.alerta();case 1:case"end":return n.stop()}}),n,this)})))}))}return _createClass(n,[{key:"ionViewDidEnter",value:function(){this.ApiService.secuencia===this.secuencia?(this.ApiService.contadorRutinaSumar(1),this.sumatorio=this.ApiService.contadorRutina):(this.ApiService.contadorRutina=0,this.ApiService.contadorRutinaSumar(1),this.sumatorio=this.ApiService.contadorRutina,this.ApiService.secuencia=this.secuencia)}},{key:"ngOnInit",value:function(){return s.__awaiter(this,void 0,void 0,regeneratorRuntime.mark((function n(){var e,t=this;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:console.log(this.ApiService.rutina),this.dataRecibida=this.capturar.snapshot.paramMap.get("id"),this.numero=parseInt(this.dataRecibida)+1,this.restar=parseInt(this.dataRecibida)-1,this.final=this.ApiService.rutina,this.final=this.final.length,this.nombre=this.ApiService.rutina[this.dataRecibida],console.log(this.nombre),this.secuencia=this.nombre.stage,this.serie=this.ApiService.rutina,this.serie=this.serie.filter((function(n){return n.stage===t.secuencia})),this.serie=this.serie.length,this.capturar.queryParams.subscribe((function(n){var e=n.count,l=n.secuence;console.log("SECUENCIA_",t.secuencia_),console.log("CONTADOR_",t.contador),e&&(t.contador=e),l&&(t.secuencia_=l)})),this.secuencia_<this.secuencia&&(this.contador=1,this.secuencia_=this.secuencia),0==this.contador&&(this.contador=this.serie),this.contador>this.serie&&(this.contador=1),console.log("SECUENCIA",this.secuencia_),console.log("CONTADOR",this.contador),this.video="".concat(this.URL,"/videos/").concat(this.nombre.cod,"/").concat(this.nombre.url),console.log(this.video),e=setInterval((function(){console.log(t.txtVideo.nativeElement.readyState),4===t.txtVideo.nativeElement.readyState&&(console.log(t.txtVideo.nativeElement.readyState),t.txtVideo.nativeElement.play(),t.startTimer(),clearInterval(e))}),500);case 2:case"end":return n.stop()}}),n,this)})))}},{key:"onMetadata",value:function(n,e){console.log("metadata: ",n),console.log("cargado: ",n.target.readyState),this.timeLeft=this.ApiService.ratio}},{key:"redirigir",value:function(){var n=this;this.numero>=this.final?this.tiempo=setTimeout((function(){clearInterval(n.tiemposegundo),n.pauseSonido(),n.ruta.navigateRoot("percepcionentrenamiento")}),1e3):(clearInterval(this.tiemposegundo),this.pauseSonido(),this.ruta.navigateRoot(["/bateriarutinaesperahome/".concat(this.dataRecibida)],{queryParams:{count:this.contador,secuence:this.secuencia_}}))}},{key:"ionViewDidLeave",value:function(){clearInterval(this.tiemposegundo),this.audio&&this.audio.pause()}},{key:"ngOnDestroy",value:function(){clearInterval(this.tiemposegundo),this.audio&&this.audio.pause()}},{key:"startTimer",value:function(){var n=this;this.btn=!0,this.tiemposegundo=setInterval((function(){n.timeLeft<=10&&(console.log("activate"),n.zero=0),n.timeLeft>=1&&n.timeLeft<10&&n.playSonido(),n.timeLeft>0?n.timeLeft--:(n.timeLeft=0,n.redirigir(),n.txtVideo.nativeElement.pause())}),1e3)}},{key:"pauseTimer",value:function(){clearInterval(this.tiemposegundo),this.mostrar=!1,this.txtVideo.nativeElement.pause()}},{key:"playTimer",value:function(){this.startTimer(),this.mostrar=!0,this.txtVideo.nativeElement.play()}},{key:"playSonido",value:function(){this.audio=new Audio,this.audio.src=this.sonido,this.audio.load(),this.audio.play()}},{key:"pauseSonido",value:function(){this.audio.pause()}},{key:"alerta",value:function(){return s.__awaiter(this,void 0,void 0,regeneratorRuntime.mark((function n(){var e,t=this;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.alertController.create({header:"\xbfDeseas reanudar el video?",message:"el video comenzara desde cero de nuevo",buttons:[{text:"Cancelar",role:"cancel",cssClass:"secondary",handler:function(n){console.log("no hacer nada, el usuario le dara en play al video")}},{text:"Ok",handler:function(){t.timeLeft=t.ApiService.ratio,clearInterval(t.tiemposegundo),t.zero=null,t.playTimer()}}]});case 2:return e=n.sent,n.next=5,e.present();case 5:case"end":return n.stop()}}),n,this)})))}},{key:"ionViewWillLeave",value:function(){console.log("cerrar la supcripcion"),clearInterval(this.tiemposegundo),this.audio&&this.audio.pause(),this.ReanudarAPP.unsubscribe(),this.pausarApp.unsubscribe()}},{key:"atras",value:function(){clearInterval(this.tiemposegundo);var n={queryParams:{count:this.contador,secuence:this.secuencia_,restar:this.restar}};1!=this.contador&&1!=this.secuencia?(this.contador--,this.ruta.navigateForward(["/bateriarutinaesperahome/".concat(this.restar)],n)):this.ruta.navigateRoot(["/calentamiento-info"])}},{key:"siguiente",value:function(){clearInterval(this.tiemposegundo),this.ruta.navigateForward(["/bateriarutinaesperahome/".concat(this.numero-1)],{queryParams:{count:this.contador,secuence:this.secuencia_,restar:this.restar}})}}]),n}(),d=t("iInd"),p=l.ob({encapsulation:0,styles:[[".logo[_ngcontent-%COMP%]{margin:0 auto;max-height:150px}.cabezera[_ngcontent-%COMP%]{max-height:150px;display:-webkit-box;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row;-webkit-box-align:center;align-items:center;background-color:#000;width:100%;overflow:hidden}.contenedor[_ngcontent-%COMP%]{width:100%;height:100%}.contenedor-cuerpo[_ngcontent-%COMP%]{width:100%;max-height:70%;height:60%;display:-webkit-box;display:flex;margin-top:.5rem;-webkit-box-pack:center;justify-content:center;-webkit-box-align:center;align-items:center;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column}.titulo[_ngcontent-%COMP%]{padding:5px;font-size:1.2rem;font-weight:800}.reloj[_ngcontent-%COMP%]{margin:2px!important;font-size:4em;font-weight:800}.text-reloj-titulo[_ngcontent-%COMP%]{font-weight:700;margin:0}.text-reloj[_ngcontent-%COMP%]{margin:0;font-size:1.2rem}"]],data:{}});function m(n){return l.Lb(0,[(n()(),l.qb(0,0,null,null,0,"source",[],[[8,"src",4]],null,null,null,null))],null,(function(n,e){n(e,0,0,e.component.video)}))}function f(n){return l.Lb(0,[(n()(),l.qb(0,0,null,null,3,"ion-fab-button",[["color","light"]],null,[[null,"click"]],(function(n,e,t){var l=!0;return"click"===e&&(l=!1!==n.component.atras()&&l),l}),a.hb,a.q)),l.pb(1,49152,null,0,u.y,[l.h,l.k,l.x],{color:[0,"color"]},null),(n()(),l.qb(2,0,null,0,1,"ion-icon",[["name","arrow-back-outline"]],null,null,null,a.mb,a.u)),l.pb(3,49152,null,0,u.D,[l.h,l.k,l.x],{name:[0,"name"]},null)],(function(n,e){n(e,1,0,"light"),n(e,3,0,"arrow-back-outline")}),null)}function v(n){return l.Lb(0,[(n()(),l.qb(0,0,null,null,3,"ion-fab",[["horizontal","start"],["slot","fixed"],["vertical","bottom"]],null,null,null,a.ib,a.p)),l.pb(1,49152,null,0,u.x,[l.h,l.k,l.x],{horizontal:[0,"horizontal"],vertical:[1,"vertical"]},null),(n()(),l.fb(16777216,null,0,1,null,f)),l.pb(3,16384,null,0,r.k,[l.N,l.J],{ngIf:[0,"ngIf"]},null)],(function(n,e){var t=e.component;n(e,1,0,"start","bottom"),n(e,3,0,t.btn)}),null)}function g(n){return l.Lb(0,[(n()(),l.qb(0,0,null,null,3,"ion-fab-button",[["color","light"]],null,[[null,"click"]],(function(n,e,t){var l=!0;return"click"===e&&(l=!1!==n.component.siguiente()&&l),l}),a.hb,a.q)),l.pb(1,49152,null,0,u.y,[l.h,l.k,l.x],{color:[0,"color"]},null),(n()(),l.qb(2,0,null,0,1,"ion-icon",[["name","arrow-forward-outline"]],null,null,null,a.mb,a.u)),l.pb(3,49152,null,0,u.D,[l.h,l.k,l.x],{name:[0,"name"]},null)],(function(n,e){n(e,1,0,"light"),n(e,3,0,"arrow-forward-outline")}),null)}function k(n){return l.Lb(0,[(n()(),l.qb(0,0,null,null,3,"ion-fab",[["horizontal","end"],["slot","fixed"],["vertical","bottom"]],null,null,null,a.ib,a.p)),l.pb(1,49152,null,0,u.x,[l.h,l.k,l.x],{horizontal:[0,"horizontal"],vertical:[1,"vertical"]},null),(n()(),l.fb(16777216,null,0,1,null,g)),l.pb(3,16384,null,0,r.k,[l.N,l.J],{ngIf:[0,"ngIf"]},null)],(function(n,e){var t=e.component;n(e,1,0,"end","bottom"),n(e,3,0,t.btn)}),null)}function x(n){return l.Lb(0,[(n()(),l.qb(0,0,null,null,5,"ion-fab",[["horizontal","center"],["slot","fixed"],["vertical","bottom"]],null,null,null,a.ib,a.p)),l.pb(1,49152,null,0,u.x,[l.h,l.k,l.x],{horizontal:[0,"horizontal"],vertical:[1,"vertical"]},null),(n()(),l.qb(2,0,null,0,3,"ion-fab-button",[["color","danger"]],null,[[null,"click"]],(function(n,e,t){var l=!0;return"click"===e&&(l=!1!==n.component.pauseTimer()&&l),l}),a.hb,a.q)),l.pb(3,49152,null,0,u.y,[l.h,l.k,l.x],{color:[0,"color"]},null),(n()(),l.qb(4,0,null,0,1,"ion-icon",[["name","pause-outline"]],null,null,null,a.mb,a.u)),l.pb(5,49152,null,0,u.D,[l.h,l.k,l.x],{name:[0,"name"]},null)],(function(n,e){n(e,1,0,"center","bottom"),n(e,3,0,"danger"),n(e,5,0,"pause-outline")}),null)}function w(n){return l.Lb(0,[(n()(),l.qb(0,0,null,null,5,"ion-fab",[["horizontal","center"],["slot","fixed"],["vertical","bottom"]],null,null,null,a.ib,a.p)),l.pb(1,49152,null,0,u.x,[l.h,l.k,l.x],{horizontal:[0,"horizontal"],vertical:[1,"vertical"]},null),(n()(),l.qb(2,0,null,0,3,"ion-fab-button",[["color","danger"]],null,[[null,"click"]],(function(n,e,t){var l=!0;return"click"===e&&(l=!1!==n.component.playTimer()&&l),l}),a.hb,a.q)),l.pb(3,49152,null,0,u.y,[l.h,l.k,l.x],{color:[0,"color"]},null),(n()(),l.qb(4,0,null,0,1,"ion-icon",[["name","play-outline"]],null,null,null,a.mb,a.u)),l.pb(5,49152,null,0,u.D,[l.h,l.k,l.x],{name:[0,"name"]},null)],(function(n,e){n(e,1,0,"center","bottom"),n(e,3,0,"danger"),n(e,5,0,"play-outline")}),null)}function y(n){return l.Lb(0,[l.Hb(671088640,1,{txtVideo:0}),(n()(),l.qb(1,0,null,null,3,"ion-header",[["class","ion-no-border"]],null,null,null,a.lb,a.t)),l.pb(2,49152,null,0,u.C,[l.h,l.k,l.x],null,null),(n()(),l.qb(3,0,null,0,1,"div",[["class","cabezera"]],null,null,null,null,null)),(n()(),l.qb(4,0,null,null,0,"img",[["class","logo"],["src","assets/img/logo-app.png"]],null,null,null,null,null)),(n()(),l.qb(5,0,[[1,0],["myVideo",1]],null,2,"video",[["loop",""],["playsinline",""],["poster","assets/img/videogif.gif"],["width","100%"]],null,[[null,"loadedmetadata"]],(function(n,e,t){var l=!0,i=n.component;return"loadedmetadata"===e&&(l=!1!==i.onMetadata(t,i.video)&&l),l}),null,null)),(n()(),l.fb(16777216,null,null,1,null,m)),l.pb(7,16384,null,0,r.k,[l.N,l.J],{ngIf:[0,"ngIf"]},null),(n()(),l.qb(8,0,null,null,11,"ion-content",[],null,null,null,a.gb,a.o)),l.pb(9,49152,null,0,u.v,[l.h,l.k,l.x],null,null),(n()(),l.qb(10,0,null,0,9,"div",[["class","contenedor"]],null,null,null,null,null)),(n()(),l.qb(11,0,null,null,8,"div",[["class","contenedor-cuerpo"]],null,null,null,null,null)),(n()(),l.qb(12,0,null,null,1,"h2",[["class","text-reloj-titulo"]],null,null,null,null,null)),(n()(),l.Jb(13,null,["SECUENCIA ",""])),(n()(),l.qb(14,0,null,null,1,"h3",[["class","text-reloj-titulo"]],null,null,null,null,null)),(n()(),l.Jb(15,null,["SERIE ","/",""])),(n()(),l.qb(16,0,null,null,1,"p",[["class","reloj"]],null,null,null,null,null)),(n()(),l.Jb(17,null,["","",""])),(n()(),l.qb(18,0,null,null,1,"p",[["class","text-reloj"]],null,null,null,null,null)),(n()(),l.Jb(-1,null,["\xa1De tu esfuerzo depende tu resultado,no pares!"])),(n()(),l.fb(16777216,null,null,1,null,v)),l.pb(21,16384,null,0,r.k,[l.N,l.J],{ngIf:[0,"ngIf"]},null),(n()(),l.fb(16777216,null,null,1,null,k)),l.pb(23,16384,null,0,r.k,[l.N,l.J],{ngIf:[0,"ngIf"]},null),(n()(),l.fb(16777216,null,null,1,null,x)),l.pb(25,16384,null,0,r.k,[l.N,l.J],{ngIf:[0,"ngIf"]},null),(n()(),l.fb(16777216,null,null,1,null,w)),l.pb(27,16384,null,0,r.k,[l.N,l.J],{ngIf:[0,"ngIf"]},null)],(function(n,e){var t=e.component;n(e,7,0,t.video),n(e,21,0,t.timeLeft<=27),n(e,23,0,t.timeLeft<=27),n(e,25,0,t.mostrar),n(e,27,0,!t.mostrar)}),(function(n,e){var t=e.component;n(e,13,0,t.secuencia),n(e,15,0,t.contador,t.serie),n(e,17,0,t.zero,t.timeLeft)}))}var A=l.mb("app-bateriarutinahome",b,(function(n){return l.Lb(0,[(n()(),l.qb(0,0,null,null,1,"app-bateriarutinahome",[],null,null,null,y,p)),l.pb(1,245760,null,0,b,[d.a,c.a,u.Gb,u.Kb,u.b],null,null)],(function(n,e){n(e,1,0)}),null)}),{},{},[]),_=t("s7LF"),q=function n(){_classCallCheck(this,n)};t.d(e,"BateriarutinahomePageModuleNgFactory",(function(){return C}));var C=l.nb(i,[],(function(n){return l.zb([l.Ab(512,l.j,l.Y,[[8,[o.a,A]],[3,l.j],l.v]),l.Ab(4608,r.m,r.l,[l.s,[2,r.w]]),l.Ab(4608,_.q,_.q,[]),l.Ab(4608,u.c,u.c,[l.x,l.g]),l.Ab(4608,u.Fb,u.Fb,[u.c,l.j,l.p]),l.Ab(4608,u.Lb,u.Lb,[u.c,l.j,l.p]),l.Ab(1073742336,r.b,r.b,[]),l.Ab(1073742336,_.p,_.p,[]),l.Ab(1073742336,_.e,_.e,[]),l.Ab(1073742336,u.Cb,u.Cb,[]),l.Ab(1073742336,d.n,d.n,[[2,d.s],[2,d.m]]),l.Ab(1073742336,q,q,[]),l.Ab(1073742336,i,i,[]),l.Ab(1024,d.k,(function(){return[[{path:"",component:b}]]}),[])])}))}}]);